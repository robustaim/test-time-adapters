# APT

## Inst
#### Download dataset
```bash
sudo apt install pigz

curl "https://cdn-lfs-us-1.hf.co/repos/ec/f0/ecf0ed13aa52d0f2d7376b8261c95e0db0b67ec09e777ee5bc8f674da091a85f/36b8f27c8cfd3d3a55ea34499c48dbb99946ebfc0a20fa6918c2fc3f76788fae?response-content-disposition=inline%3B+filename*%3DUTF-8%27%27ILSVRC2015_VID.tar.gz.aa%3B+filename%3D%22ILSVRC2015_VID.tar.gz.aa%22%3B&Expires=1743052422&Policy=eyJTdGF0ZW1lbnQiOlt7IkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc0MzA1MjQyMn19LCJSZXNvdXJjZSI6Imh0dHBzOi8vY2RuLWxmcy11cy0xLmhmLmNvL3JlcG9zL2VjL2YwL2VjZjBlZDEzYWE1MmQwZjJkNzM3NmI4MjYxYzk1ZTBkYjBiNjdlYzA5ZTc3N2VlNWJjOGY2NzRkYTA5MWE4NWYvMzZiOGYyN2M4Y2ZkM2QzYTU1ZWEzNDQ5OWM0OGRiYjk5OTQ2ZWJmYzBhMjBmYTY5MThjMmZjM2Y3Njc4OGZhZT9yZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uPSoifV19&Signature=Zr6bSPxs-yhiexJrB8VuXZD9FS%7EJkj7AzeMIPqHMDadhcNND2ADEQhW2SVMHx7ejgG5WP2PiXuyHaRTFtfdomsM0U4NVYq6luC0geGIGYONh2Nk15K2ac7LP4FXGCH3focRZbsvzwmaWh4xsIDdeH-JnoMc0BnfvUSw4CuxpYIBvKRVNaFLGliSLEO9LwLBxY2QbHQQEUTLbfCkpWRQrpv8ty0pJg0lijfZ07fjMDeN5RNbDjy2DEe-WD9mIb0HsDpwP8BrKuGcAYIKMsXGJ6xvNS6hZMPUJA%7Elvc-7m%7EHt8mYraUsPwTP4VI992fBv8kn5%7EVkqKigkY-ID5jFvtYQ__&Key-Pair-Id=K24J24Z295AEI9" -o ILSVRC2015_VID.tar.gz.aa
curl "https://cdn-lfs-us-1.hf.co/repos/ec/f0/ecf0ed13aa52d0f2d7376b8261c95e0db0b67ec09e777ee5bc8f674da091a85f/c1e3082d6f18fdd0dc42210618bd67cc7de8dfe3c7337278e4c53c0660c8c971?response-content-disposition=attachment%3B+filename*%3DUTF-8%27%27ILSVRC2015_VID.tar.gz.ab%3B+filename%3D%22ILSVRC2015_VID.tar.gz.ab%22%3B&Expires=1743052852&Policy=eyJTdGF0ZW1lbnQiOlt7IkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc0MzA1Mjg1Mn19LCJSZXNvdXJjZSI6Imh0dHBzOi8vY2RuLWxmcy11cy0xLmhmLmNvL3JlcG9zL2VjL2YwL2VjZjBlZDEzYWE1MmQwZjJkNzM3NmI4MjYxYzk1ZTBkYjBiNjdlYzA5ZTc3N2VlNWJjOGY2NzRkYTA5MWE4NWYvYzFlMzA4MmQ2ZjE4ZmRkMGRjNDIyMTA2MThiZDY3Y2M3ZGU4ZGZlM2M3MzM3Mjc4ZTRjNTNjMDY2MGM4Yzk3MT9yZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uPSoifV19&Signature=cy%7EC5OYChV-AK9lEmpm48rg9W20sK95gEtHcu28xCTadVyacGYHAdwzj3OD2KRpT2Iunv29mFcpK8YcDTXVDKMuUK%7EYXDns8lRxEDt%7Ey52pvWJSevJTbU9MYFNWyboMmLiy3sTgQUwe0nKqRIcgQH3OVBcI6uTXOGNGi22zGm1vQJ1oAMXOIh4f42kBsCrbMClafGPLOTEVX4dzw6WfYIuJaGMpXMnbslNvm9dmGF%7E4hGzCdwR7BuKY6STBYGMchmYDDu16AiaAcQRqJB%7EGpD8nj0oG6zzG%7EpmdSke0MXKtYEYDIeQY1gOQc5K1StBMfoHgphhbtm-EIgf6Rsp4zLg__&Key-Pair-Id=K24J24Z295AEI9" -o ILSVRC2015_VID.tar.gz.ab

cat ILSVRC2015_VID.tar.gz.a* > ILSVRC2015_VID.tar.gz
rm ILSVRC2015_VID.tar.gz.aa ILSVRC2015_VID.tar.gz.ab
mkdir -p ./apt/dataset/data
dd if=ILSVRC2015_VID.tar.gz bs=4M status=progress | tar -I pigz -x -C ./apt/dataset/data/
```
#### Pre-process
```bash
python ./apt/dataset/preprocess/annotations_to_txt_train.py
python ./apt/dataset/preprocess/annotations_to_txt_val.py
python ./apt/dataset/preprocess/label_to_one_train.py
python ./apt/dataset/preprocess/label_to_one_val.py
python ./apt/dataset/preprocess/img_to_640_train_multi.py
python ./apt/dataset/preprocess/img_to_640_val_multi.py
```


## Foggy
```bash
git clone https://github.com/NVlabs/stylegan3.git /shared_hdd/annasdfghjkl13/anaconda3/lib/python3.12/site-packages
```
